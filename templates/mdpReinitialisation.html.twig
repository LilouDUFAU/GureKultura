{% extends 'base.html.twig' %}

{% block content %}

<div class="pt-2">
    <div class="flex flex-col items-center bg-cover bg-no-repeat bg-[url('../asset/bg_img.svg')] gap-2 p-2 py-24">
        <div class="flex flex-col gap-3 w-full max-w-md p-8 bg-principal-rouge bg-opacity-70 rounded-lg drop-shadow-[0_5px_5px_rgba(0,0,0,0.5)]">
        {% if emailSend == true %}
            <h1 class="text-3xl font-bold text-white text-center mb-6">Mail envoyer</h1>
            <div>
                <p class="text-white text-sm">
                    Nous vous vous avons envoyer un mail à cette adresse si un compte GureKultura existant correspond.</p>
                    
                <p class="text-white text-sm">
                    Vous trouverez toute les informations pour changer de mot de passe dans le mail envoyer.</p>
            </div>
        {% endif %}
        {% if emailSend == false %}
            <h1 class="text-3xl font-bold text-white text-center mb-6">Réinitialisation du mot de passe</h1>
            <form class="space-y-4 gap-2" method="POST" action="index.php?controlleur=mdpReinitialisation&methode=validerFormulaireInscription&tok={{ token.token }}">
                <div>
                    <input type="password" placeholder="Mot de passe" 
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,30}$" 
                    name="mdp" 
                    required title="Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial"
                    class="w-full p-3 rounded-md bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-400">
                </div>
                <div>
                    <input type="password" 
                    placeholder="Confirmer le mot de passe" 
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,30}$" 
                    name="mdp2" 
                    required title="Le mot de passe de confirmation doit être le même que le mot de passe"
                    class="w-full p-3 rounded-md bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-400">
                </div>
                <input type="submit" Value="Suivant" class="w-full p-3 bg-white text-red-700 font-semibold rounded-md hover:bg-gray-200 transition">
            </form>
            <a href="index.php?controlleur=connexion&methode=lister" class="text-sm text-white mt-2 block text-center hover:underline">Retour</a>
        {% endif %}
        </div>
    </div>
</div>
{% endblock %}