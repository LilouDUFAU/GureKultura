{% extends 'base.html.twig' %}

{% block content %}
	<div class="min-h-screen flex flex-col items-center justify-center bg-bg py-12 px-4 sm:px-6 lg:px-8">
		<h2 class="text-2xl lg:text-4xl font-semibold text-center text-title uppercase lg:font-extrabold mb-8">Inscription</h2>

		<div class="max-w-4xl w-full space-y-6 p-10 bg-form shadow-xl rounded-2xl"> <!-- Augmentation de la largeur -->			
		<form class="grid grid-cols-6 space-y-4 text-sm lg:text-base text-text" action="index.php?controlleur=inscription&methode=validerFormulaireInscription" method="post" enctype="multipart/form-data">

				<div class="grid grid-cols-subgrid row-start-1 col-start-1 col-span-6 p-2">
					<div class="border-2 border-solid border-form py-1 flex flex-row  gap-2 row-start-1 col-start-1 col-span-6">
						<img src="../asset/icones/envelope.svg" class="w-6 h-6  py-1 rounded-md" alt="icone">
						<label for="email">Email</label>
					</div>
					<div class="relative row-start-2 col-start-1 col-span-6 w-full">
						<input type="email" id="email"  placeholder="E-mail" name="email" required title="Veuillez entrer une adresse e-mail valide" oninput='verifErreurSaisie(email)' class="w-full bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 placeholder-text outline-none text-text">
					</div>
				</div>

				<div class="grid grid-cols-subgrid row-start-2 col-start-1 col-span-6 p-2">
					<div class="border-2 border-solid border-form py-1 flex flex-row  gap-2 row-start-1 col-start-1 col-span-6 ">
						<img src="../asset/icones/person-vcard (1).svg" class="w-6 h-6  py-1 rounded-md" alt="icone">
						<label for="nom">Nom</label>
					</div>
					<div class="relative row-start-2 col-start-1 col-span-6  w-full">
						<input type="text" id="nom" placeholder="Nom complet" name="nom" required title="Veuillez entrer votre nom complet" oninput='verifErreurSaisie(nom)' class="w-full bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 placeholder-text outline-none text-text">
					</div>
				</div>

				<div class="grid grid-cols-subgrid row-start-3 col-start-1 col-span-6 p-2">
					<div class="border-2 border-solid border-form py-1 flex flex-row  gap-2 row-start-1 col-start-1 col-span-6 ">
						<img src="../asset/icones/person.svg" class="w-6 h-6  py-1 rounded-md" alt="icone">
						<label for="pseudo">Pseudo</label>
					</div>
					<div class="relative row-start-2  col-start-1 col-span-6  w-full">
						<input type="text" id="pseudo" placeholder="Nom d'utilisateur" name="pseudo" required title="Veuillez entrer un nom d'utilisateur" oninput='verifErreurSaisie(pseudo)' class="w-full bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 placeholder-text outline-none text-text">
					</div>
				</div>

				<!-- Champ mot de passe -->
				<div class="grid grid-cols-subgrid row-start-4 col-start-1 col-span-6 p-2 relative">
					<div class="border-2 border-solid border-form py-1 flex flex-row  gap-2 row-start-1 col-start-1 col-span-6 ">
						<img src="../asset/icones/lock.svg" class="w-6 h-6  py-1 rounded-md" alt="icone">
						<label for="password">Mot de passe</label>
					</div>
					<div class="relative row-start-2  col-start-1 col-span-6  w-full">
						<input type="password" id="password" placeholder="Mot de passe" name="mdp" required 
							title="Veuillez entrer un mot de passe sécurisé"
							class="bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 placeholder-text outline-none text-text w-full pr-10">
						<button type="button" class="toggle-password absolute right-2 top-1/2 transform -translate-y-1/2" tabindex="-1">
							<img src="../asset/icones/eye.svg" class="w-6 h-6 bg-button py-1 rounded-md" alt="Afficher le mot de passe">
						</button>
					</div>
				</div>

				<!-- Champ confirmation mot de passe -->
				<div class="grid grid-cols-subgrid row-start-5 col-start-1 col-span-6 p-2 relative">
					<div class="border-2 border-solid border-form py-1 flex flex-row  gap-2 row-start-1 col-start-1 col-span-6 ">
						<img src="../asset/icones/lock.svg" class="w-6 h-6  py-1 rounded-md" alt="icone">
						<label for="confirm-password">Confirmer le mot de passe</label>
					</div>
					<div class="relative row-start-2  col-start-1 col-span-6 w-full">
						<input type="password" id="confirm-password" placeholder="Confirmer le mot de passe" name="mdp2" required 
							title="Veuillez confirmer votre mot de passe"
							class="bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 placeholder-text outline-none text-text w-full pr-10">
						<button type="button" class="toggle-password absolute right-2 top-1/2 transform -translate-y-1/2" tabindex="-1">
							<img src="../asset/icones/eye.svg" class="w-6 h-6 bg-button py-1 rounded-md" alt="Afficher le mot de passe">
						</button>
					</div>
				</div>


                <div class="row-start-6 col-start-1 col-span-6 flex justify-center mt-4">
                    <a class="text-link underline text-sm" href="index.php?controlleur=newsLetter&methode=lister">Voir la newsletter</a>
                </div>

				<div class="row-start-7 col-start-1 col-span-6 flex justify-center mt-4">
					<button type="submit" id="validerFormulaire" class="w-full p-3 bg-button text-tbutton font-bold rounded-lg hover:bg-hbutton transition">S'inscrire</button>
				</div>
			</form>

            <div class="flex items-center my-6">
                <hr class="w-full border-gray-300">
                <span class="px-4 text-gray-500">OU</span>
                <hr class="w-full border-gray-300">
            </div>
        
            <div class="text-center">
                <p class="text-gray-600">Vous avez déjà un compte ?</p>
                <a href="index.php?controlleur=connexion&methode=lister" class="block w-full p-3 bg-button text-tbutton font-semibold rounded-lg hover:bg-hbutton transition mt-2">Connectez-vous</a>
            </div>
		</div>
	</div>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			// Gestion de l'affichage du mot de passe
			document.querySelectorAll(".toggle-password").forEach(function (button) {
				button.addEventListener("click", function () {
					let inputField = button.previousElementSibling; // Sélectionner l'input correspondant
					let icon = button.querySelector("img");

					if (inputField.type === "password") {
						inputField.type = "text";
						icon.src = "../asset/icones/eye-slash.svg"; // Icône pour cacher le mot de passe
						icon.alt = "Masquer le mot de passe";
					} else {
						inputField.type = "password";
						icon.src = "../asset/icones/eye.svg"; // Icône pour afficher le mot de passe
						icon.alt = "Afficher le mot de passe";
					}
				});
			});
		});
	</script>
	
<script src="../js/erreurSaisie.js"></script>
{% endblock %}
