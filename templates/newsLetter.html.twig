{% extends 'base.html.twig' %}

{% block content %}
	<div class="min-h-screen flex flex-col items-center justify-center bg-bg py-12 px-4 sm:px-6 lg:px-8">
		<h2 class="text-2xl lg:text-4xl font-semibold text-center text-title uppercase lg:font-extrabold mb-8">Inscrivez-vous </h2>

		<div class="max-w-4xl w-full space-y-6 p-10 bg-form shadow-xl rounded-2xl">
			<form class="grid grid-cols-6 space-y-4 text-sm lg:text-base text-text" action="index.php?controlleur=newsLetter&methode=validerFormulaireNewsLetter" method="post" enctype="multipart/form-data">
				<div class="grid grid-cols-subgrid row-start-1 col-start-1 col-span-6 p-2">
					<div class="flex flex-row items-center gap-2 col-start-1 col-span-2">
						<img src="../asset/icones/envelope.svg" class="w-6 h-6  py-1 rounded-md" alt="icone">
						<label for="email">Email</label>
					</div>
					<div class="col-start-3 col-span-4 w-full">
						<input type="email" id="email"  placeholder="E-mail" name="email" required title="Veuillez entrer une adresse e-mail valide" oninput='verifErreurSaisie(email)' class="w-full bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 placeholder-text outline-none text-text">
					</div>
				</div>

				<div class="grid grid-cols-subgrid row-start-2 col-start-1 col-span-6 p-2">
					<p class="col-start-1 col-span-6 text-md text-gray-600">En m'inscrivant à la NewsLetter, j'accepte :</p>
				</div>

				<div class="grid grid-cols-subgrid row-start-3 col-start-1 col-span-6 p-2">
					<div class="flex flex-row items-center gap-2 col-start-1 col-span-2">
						<input type="checkbox" id="news" name="news" class="bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 outline-none text-text w-6 h-6">
						
					</div>
					<div class="col-start-3 col-span-4 w-full">
						<label for="news">Recevoir des e-mails sur les nouveautés de l'application.</label>
					</div>
				</div>

				<div class="grid grid-cols-subgrid row-start-4 col-start-1 col-span-6 p-2">
					<div class="flex flex-row items-center gap-2 col-start-1 col-span-2">
						<input type="checkbox" id="event" name="event" class="bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 outline-none text-text w-6 h-6">
						
					</div>
					<div class="col-start-3 col-span-4 w-full">
						<label for="event">Recevoir des e-mails sur les nouveaux événements susceptibles de m'intéresser.</label>
					</div>
				</div>

				<div class="grid grid-cols-subgrid row-start-5 col-start-1 col-span-6 p-2">
					<div class="flex flex-row items-center gap-2 col-start-1 col-span-2">
						<input type="checkbox" id="actu" name="actu" class="bg-transparent border-white border-2 border-solid rounded-lg px-2 py-1 outline-none text-text w-6 h-6">
						
					</div>
					<div class="col-start-3 col-span-4 w-full">
						<label for="actu">Recevoir des e-mails sur les actualités importantes.</label>
					</div>

				<div class="row-start-7 col-start-1 col-span-6 flex justify-center mt-4">
					<button type="submit" id="validerFormulaire" class="w-full p-3 bg-button text-tbutton font-bold rounded-lg hover:bg-hbutton transition">S'inscrire</button>
				</div>
			</form>
		</div>
		<p class="text-md text-gray-600">En vous inscrivant, vous acceptez de recevoir des newsletters et des actualités de GureKultura. 
		Vous pouvez vous désabonner à tout moment. <a id="openNewsletterPopup" class="politiqueConf">En savoir plus</a></p>
	</div>
	


    <!-- Popup Newsletter -->
    <div id="newsletterPopup" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-lg w-96 text-center overflow-y-auto max-h-[90vh]">
            <h2 class="text-lg font-bold mb-4">Politique de confidentialité -GureKultura-</h2>
            <p class="text-sm text-gray-600 mb-4">Nous collectons les informations suivantes :</p>
            <ul class="list-disc pl-5 space-y-1 text-left">
                <li>Nom et prénom</li>
                <li>Adresse e-mail</li>
                <li>Numéro de téléphone (facultatif)</li>
            </ul>
            <h3 class="text-md font-semibold mt-4">Utilisation des données</h3>
            <p class="text-sm">Vos informations sont utilisées uniquement pour l'envoi de newsletters et d'actualités de GureKultura.</p>
            <h3 class="text-md font-semibold mt-4">Droits et désabonnement</h3>
            <p class="text-sm">Vous pouvez demander la suppression de vos données ou vous désabonner à tout moment.</p>
            <button id="closePopup" class="mt-2 text-sm text-gray-500 underline">Fermer</button>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("openNewsletterPopup").addEventListener("click", function() {
                document.getElementById("newsletterPopup").classList.remove("hidden");
            });
            
            document.getElementById("closePopup").addEventListener("click", function() {
                document.getElementById("newsletterPopup").classList.add("hidden");
            });
        });
    </script>
{% endblock %}
